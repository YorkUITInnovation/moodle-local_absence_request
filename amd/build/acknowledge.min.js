define("local_absence_request/acknowledge",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);_exports.init=()=>{document.addEventListener("click",(event=>{event.target.classList.contains("local-absence-request-acknowledge")&&handleAcknowledgeClick(event.target)}))};const handleAcknowledgeClick=element=>{const id=element.getAttribute("data-id");id?_ajax.default.call([{methodname:"local_absence_request_acknowledge",args:{id:parseInt(id)}}])[0].then((response=>{response.success?updateAcknowledgeIcon(element,response.acknowledged):_notification.default.addNotification({message:"Failed to update acknowledgment status",type:"error"})})).catch((error=>{_notification.default.addNotification({message:"Error updating acknowledgment: "+error.message,type:"error"})})):_notification.default.addNotification({message:"Invalid record ID",type:"error"})},updateAcknowledgeIcon=(element,acknowledged)=>{element.classList.remove("fa-check","fa-times"),1===acknowledged?(element.classList.add("fa-check"),element.style.color="green",element.setAttribute("title","Acknowledged - Click to toggle")):(element.classList.add("fa-times"),element.style.color="red",element.setAttribute("title","Not acknowledged - Click to toggle"))}}));

//# sourceMappingURL=acknowledge.min.js.map